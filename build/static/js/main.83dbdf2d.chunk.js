(this["webpackJsonpredux-essentials-example"]=this["webpackJsonpredux-essentials-example"]||[]).push([[0],{145:function(e,t,n){e.exports=n(279)},150:function(e,t,n){},162:function(e,t){},164:function(e,t){},176:function(e,t){},178:function(e,t){},205:function(e,t){},207:function(e,t){},208:function(e,t){},213:function(e,t){},215:function(e,t){},234:function(e,t){},246:function(e,t){},249:function(e,t){},278:function(e,t){},279:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(33),s=n.n(r),c=(n(150),n(15)),l=n(8),i=function(){return o.a.createElement("nav",null,o.a.createElement("section",null,o.a.createElement("h1",null,"To Do List"),o.a.createElement("div",{className:"navContent"},o.a.createElement("div",{className:"navLinks"},o.a.createElement(c.b,{to:"/missions"},"Missions"),o.a.createElement(c.b,{to:"/login",onClick:function(){localStorage.setItem("username",""),localStorage.setItem("password",""),localStorage.setItem("authenticated","false"),localStorage.setItem("role","")}},"Logout")))))},u=n(4),m=n.n(u),d=n(9),p=n(7),f=n(20),b=n(24),g=n(63),h=n(304),E=n(306),v=n(305),O=function(e){var t=e.timestamp,n="";if(t){var a=Object(E.a)(t),r=Object(v.a)(a);n="".concat(r," ago")}return o.a.createElement("span",{title:t},"\xa0 ",o.a.createElement("i",null,n))},j=n(31);function x(){return(x=Object(d.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t.date),e.prev=1,e.next=4,fetch("http://localhost:4002/addmission",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t.id,date:t.date,title:t.title,content:t.content,user:t.username})});case 4:if(!(n=e.sent).ok){e.next=12;break}return e.next=8,n.json();case 8:a=e.sent,console.log(a.js),e.next=13;break;case 12:throw new Error("request failed");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}var y=Object(j.b)({name:"missions",initialState:[],reducers:{missionAdded:{reducer:function(e,t){!function(e){x.apply(this,arguments)}(t.payload),e.push(t.payload),console.log(e)},prepare:function(e,t,n){return{payload:{id:Object(j.c)(),date:(new Date).toISOString(),title:e,content:t,username:n,submissions:["1","2"]}}}},missionUpdated:function(e,t){var n=t.payload,a=n.id,o=n.title,r=n.content,s=e.find((function(e){return e.id===a}));s&&(s.title=o,s.content=r)},deleteMission:function(e,t){var n=t.payload.id;console.log(e),console.log(n);var a=e.indexOf((function(e){return e.id===n}));e.splice(a,1)},addSubMission:function(e,t){var n=t.payload,a=n.subs,o=n.missionId;console.log(a);var r=e.find((function(e){return e.id===o})),s=r.submissions.slice();s.push(a),console.log(s),r.submissions=s},deleteSubMission:function(e,t){var n=t.payload,a=n.subs,o=n.missionId,r=n.id;console.log(a);var s=e.find((function(e){return e.id===o})),c=s.submissions.slice();c.splice(parseInt(r),1),s.submissions=c}}}),k=y.actions,S=k.missionAdded,w=(k.missionUpdated,k.deleteMission,k.addSubMission,k.deleteSubMission,y.reducer),C=0,N=0,I=!1;Object(b.a)({root:{color:g.a[400],"&$checked":{color:g.a[600]}}})((function(e){return o.a.createElement(h.a,Object.assign({color:"default"},e))}));var T=[],P=function(){Object(f.b)();var e=Object(a.useState)(0),t=Object(p.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(0),l=Object(p.a)(s,2),i=l[0],u=l[1],b=Object(a.useState)({missarr:[]}),g=Object(p.a)(b,2),E=g[0],v=g[1],j=o.a.useState({checkedG:!1}),x=Object(p.a)(j,2),y=(x[0],x[1],Object(a.useState)("")),k=Object(p.a)(y,2),S=k[0],w=k[1],P=function(){var e=Object(d.a)(m.a.mark((function e(){var t,n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(localStorage.getItem("role")),e.prev=1,e.next=4,fetch("http://localhost:4002/getmissions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:localStorage.getItem("username"),role:localStorage.getItem("role"),auth:localStorage.getItem("authenticated")})});case 4:if(!(t=e.sent).ok){e.next=13;break}return e.next=8,t.json();case 8:n=e.sent,console.log(n.js),v({missarr:n.js}),e.next=14;break;case 13:throw new Error("request failed");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(1),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[1,16]])})));return function(){return e.apply(this,arguments)}}(),M=function(){var e=Object(d.a)(m.a.mark((function e(t){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:4002/deletemission",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t.target.id})});case 3:if(n=e.sent,console.log(n.ok),!n.ok){e.next=12;break}return e.next=8,n.json();case 8:"deleted"===e.sent.msg?(C++,u(C),console.log(i)):console.log("failed"),e.next=13;break;case 12:throw new Error("request failed");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),q=Object(f.c)((function(e){return e.missions}));Object(a.useEffect)((function(){P()}),[q]),Object(a.useEffect)((function(){P(),T=E.missarr.map((function(e){return o.a.createElement("article",{className:"post-excerpt",key:e.id},o.a.createElement("h3",null,e.title),o.a.createElement("div",null,o.a.createElement(O,{timestamp:e.date})),o.a.createElement("p",{className:"post-content"},e.content.substring(0,100)),o.a.createElement(c.b,{to:"/missions/".concat(e.id),className:"button muted-button"},"View Post"),o.a.createElement("button",{id:e.id,onClick:M},"Delete"),o.a.createElement(h.a,{color:"primary",inputProps:{"aria-label":"secondary checkbox"}}))}))}),[i]);var J=E.missarr.slice().sort((function(e,t){return t.date.localeCompare(e.date)}));if(!1===I)T=J.map((function(e){return o.a.createElement("article",{className:"post-excerpt",key:e.id},o.a.createElement("h3",null,e.title),o.a.createElement("div",null,o.a.createElement("p",null,"User:",e.username),o.a.createElement(O,{timestamp:e.date})),o.a.createElement("p",{className:"post-content"},e.content.substring(0,100)),o.a.createElement(c.b,{to:"/missions/".concat(e.id),className:"button muted-button"},"View Mission"),o.a.createElement("button",{className:"delbutton",id:e.id,onClick:M},"Delete"),o.a.createElement(h.a,{color:"primary",inputProps:{"aria-label":"secondary checkbox"}}))}));else{var D=J.filter((function(e){return-1!==e.title.indexOf(S)||-1!==e.content.indexOf(S)||-1!==e.username.indexOf(S)}));T=D.map((function(e){return o.a.createElement("article",{className:"post-excerpt",key:e.id},o.a.createElement("h3",null,e.title),o.a.createElement("div",null,o.a.createElement("p",null,"User:",e.username),o.a.createElement(O,{timestamp:e.date})),o.a.createElement("p",{className:"post-content"},e.content.substring(0,100)),o.a.createElement(c.b,{to:"/missions/".concat(e.id),className:"button muted-button"},"View Mission"),o.a.createElement("button",{className:"delbutton",id:e.id,onClick:M},"Delete"),o.a.createElement(h.a,{color:"primary",inputProps:{"aria-label":"secondary checkbox"}}))}))}Object(a.useEffect)((function(){var e=J.filter((function(e){return-1!==e.title.indexOf(S)||-1!==e.content.indexOf(S)||-1!==e.username.indexOf(S)}));T=e.map((function(e){return o.a.createElement("article",{className:"post-excerpt",key:e.id},o.a.createElement("h3",null,e.title),o.a.createElement("div",null,o.a.createElement("p",null,"User:",e.username),o.a.createElement(O,{timestamp:e.date})),o.a.createElement("p",{className:"post-content"},e.content.substring(0,100)),o.a.createElement(c.b,{to:"/missions/".concat(e.id),className:"button muted-button"},"View Mission"),o.a.createElement("button",{className:"delbutton",id:e.id,onClick:M},"Delete"),o.a.createElement(h.a,{color:"primary",inputProps:{"aria-label":"secondary checkbox"}}))}))}),[n]);return o.a.createElement("section",{className:"posts-list"},o.a.createElement("h2",null,"Missions"),o.a.createElement("div",{className:"search"},o.a.createElement("input",{type:"text",id:"search",name:"search",placeholder:"filter missions by title and content",value:S,onChange:function(e){return w(e.target.value)},onKeyPress:function(e){if(13===e.which){console.log("press");var t=J.filter((function(e){return-1!==e.title.indexOf(S)||-1!==e.content.indexOf(S)||-1!==e.username.indexOf(S)}));console.log(t),N++,I=!0,r(N)}}}),o.a.createElement("button",{type:"button",onClick:function(){I=!1,N++,u(N),w("")}},"Reset")),T)};var M=function(){var e=Object(a.useState)(""),t=Object(p.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(""),c=Object(p.a)(s,2),l=c[0],i=c[1],u=Object(a.useState)(""),m=Object(p.a)(u,2),d=(m[0],m[1]),b=Object(f.b)();Object(f.c)((function(e){return e.users}));Object(a.useEffect)((function(){!function(){var e=(new Date).getHours();console.log(e),e<13?(alert("\u05d1\u05d5\u05e7\u05e8 \u05d8\u05d5\u05d1"),console.log("dadada")):e>=13&&e<=17?alert("\u05e6\u05d4\u05e8\u05d9\u05d9\u05dd \u05d8\u05d5\u05d1\u05d9\u05dd"):alert("\u05e2\u05e8\u05d1 \u05d8\u05d5\u05d1")}()}),[]);var g=Boolean(n)&&Boolean(l);return o.a.createElement("section",null,o.a.createElement("h2",null,"Add a new Mission"),o.a.createElement("form",null,o.a.createElement("label",{htmlFor:"postTitle"},"Mission Title:"),o.a.createElement("input",{type:"text",id:"postTitle",name:"postTitle",placeholder:"",value:n,onChange:function(e){return r(e.target.value)}}),o.a.createElement("label",{htmlFor:"postContent"},"Content:"),o.a.createElement("textarea",{id:"postContent",name:"postContent",value:l,onChange:function(e){return i(e.target.value)}}),o.a.createElement("button",{type:"button",onClick:function(){n&&l&&(b(S(n,l,localStorage.getItem("username"))),console.log("hi"),r(""),i(""),d(""))},disabled:!g},"Save Mission")))},q="cccc",J=function(e){var t=e.match.params.missionId,n=Object(a.useState)({missionget:null}),r=Object(p.a)(n,2),s=r[0],c=r[1],i=Object(a.useState)(0),u=Object(p.a)(i,2),b=(u[0],u[1]),g=(Object(f.c)((function(e){return e.missions.find((function(e){return e.id===t}))})),function(){var e=Object(d.a)(m.a.mark((function e(){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),e.next=4,fetch("http://localhost:4002/getspecificmission",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,auth:localStorage.getItem("authenticated")})});case 4:if(n=e.sent,console.log(n.ok),!n.ok){e.next=13;break}return e.next=9,n.json();case 9:"no access"===(a=e.sent).msg||"didnt found"===a.msg?(q=a.msg,console.log("fail"),b(2)):(console.log("success"),console.log(a.result[0]),q=a.result,c({missionget:a.result[0]}),j(a.result[0].title),S(a.result[0].content)),e.next=14;break;case 13:throw new Error("request failed");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}()),h=function(){var e=Object(d.a)(m.a.mark((function e(){var n;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(O),e.next=4,fetch("http://localhost:4002/updatemission",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,title:O,content:k})});case 4:if(n=e.sent,console.log(n.ok),!n.ok){e.next=10;break}console.log("success"),e.next=11;break;case 10:throw new Error("request failed");case 11:e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){g()}),[]);var E=Object(a.useState)(""),v=Object(p.a)(E,2),O=v[0],j=v[1],x=Object(a.useState)(""),y=Object(p.a)(x,2),k=y[0],S=y[1],w=(Object(f.b)(),Object(l.g)());console.log(s);var C=function(){var e=Object(d.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!O||!k){e.next=4;break}return e.next=3,h();case 3:w.push("/missions/".concat(t));case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return console.log(q),"true"===localStorage.getItem("authenticated")?o.a.createElement("section",null,o.a.createElement("h2",null,"Edit Post"),o.a.createElement("form",null,o.a.createElement("label",{htmlFor:"postTitle"},"Post Title:"),o.a.createElement("input",{type:"text",id:"postTitle",name:"postTitle",placeholder:"What's on your mind?",value:O,onChange:function(e){return j(e.target.value)}}),o.a.createElement("label",{htmlFor:"postContent"},"Content:"),o.a.createElement("textarea",{id:"postContent",name:"postContent",value:k,onChange:function(e){return S(e.target.value)}})),o.a.createElement("button",{type:"button",onClick:C},"Save Mission")):o.a.createElement("section",null,o.a.createElement("h1",null,"No access"))},D=0,F=function(e){var t=e.match.params.missionId,n=Object(a.useState)(""),r=Object(p.a)(n,2),s=r[0],l=r[1],i=Object(a.useState)({submissionsarray:[],ids:[]}),u=Object(p.a)(i,2),b=u[0],g=u[1],h=Object(a.useState)({missionget:null}),E=Object(p.a)(h,2),v=E[0],x=E[1],y=(Object(f.b)(),Object(a.useState)(0)),k=Object(p.a)(y,2),S=k[0],w=k[1],C=function(){var e=Object(d.a)(m.a.mark((function e(){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),e.next=4,fetch("http://localhost:4002/getspecificmission",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,auth:localStorage.getItem("authenticated")})});case 4:if(n=e.sent,console.log(n.ok),!n.ok){e.next=13;break}return e.next=9,n.json();case 9:"didnt found"===(a=e.sent).msg?console.log("fail"):(console.log("success"),console.log(a.result),x({missionget:a.result}),console.log(v.missionget)),e.next=14;break;case 13:throw new Error("request failed");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}(),N=function(){var e=Object(d.a)(m.a.mark((function e(){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:4002/getsubmissions",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})});case 3:if(n=e.sent,console.log(n.ok),!n.ok){e.next=13;break}return e.next=8,n.json();case 8:a=e.sent,console.log(a.response),g({submissionsarray:a.response,ids:a.id}),e.next=14;break;case 13:throw new Error("request failed");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(d.a)(m.a.mark((function e(n){var a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,console.log(t),e.next=4,fetch("http://localhost:4002/addsubmission",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t,submission:s,item:n})});case 4:if(a=e.sent,console.log(a.ok),!a.ok){e.next=12;break}return e.next=9,a.json();case 9:e.sent,e.next=13;break;case 12:throw new Error("request failed");case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),T=function(){var e=Object(d.a)(m.a.mark((function e(t){var n,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(t),console.log(b.submissionsarray),e.prev=2,e.next=5,fetch("http://localhost:4002/deletesubmission",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})});case 5:if(n=e.sent,console.log(n.ok),!n.ok){e.next=15;break}return e.next=10,n.json();case 10:a=e.sent,console.log(a.msg),"deleted"===a.msg?console.log("success"):console.log("failed"),e.next=16;break;case 15:throw new Error("request failed");case 16:e.next=21;break;case 18:e.prev=18,e.t0=e.catch(2),console.log(e.t0);case 21:case"end":return e.stop()}}),e,null,[[2,18]])})));return function(t){return e.apply(this,arguments)}}(),P=[];Object(a.useEffect)((function(){C(),N(),console.log(v.missionget)}),[]),Object(a.useEffect)((function(){N(),P=b.submissionsarray.map((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o.a.createElement("article",{className:"sublist"},o.a.createElement("h4",{id:t},e),o.a.createElement("button",{className:"delsubutton",id:b.ids[t],onClick:q},"Delete"),t++)}))}),[S]);var M=function(){var e=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(s),13!==t.which){e.next=12;break}return console.log("check"),e.next=5,I(Object(j.c)());case 5:return D++,e.next=8,N();case 8:console.log("check"),console.log(b.submissionsarray),P=b.submissionsarray.map((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o.a.createElement("article",{className:"sublist"},o.a.createElement("h4",{id:t},e),o.a.createElement("button",{className:"delsubutton",id:b.ids[t],onClick:q},"Delete"),t++)})),l("");case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),q=function(){var e=Object(d.a)(m.a.mark((function e(t){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,T(t.target.id);case 2:D++,w(D);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return P=b.submissionsarray.map((function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return o.a.createElement("article",{className:"sublist"},o.a.createElement("h4",{id:t},e),o.a.createElement("br",null),o.a.createElement("button",{className:"delsubutton",id:b.ids[t],onClick:q},"Delete"),t++)})),console.log(v.missionget),null===v.missionget||void 0===v.missionget?(console.log("do"),o.a.createElement("section",null,o.a.createElement("h2",null,"mission not found!"))):(console.log(v.missionget),o.a.createElement("section",{className:"singlemission"},o.a.createElement("article",{className:"post"},o.a.createElement("h2",null,v.missionget[0].title),o.a.createElement("div",null,o.a.createElement(O,{timestamp:v.missionget[0].date})),o.a.createElement("p",{className:"post-content"},v.missionget[0].content),o.a.createElement(c.b,{to:"/editMission/".concat(v.missionget[0].id),className:"button"},"Edit mission")),o.a.createElement("article",{className:"submissions"},o.a.createElement("label",{htmlFor:"submission"},"Add Submission"),o.a.createElement("input",{type:"text",id:"submission",name:"submission",placeholder:"",value:s,onChange:function(e){return l(e.target.value)},onKeyPress:M}),P)))},A=n(91),L=n(275),U=function(){var e=Object(a.useState)(""),t=Object(p.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(""),i=Object(p.a)(s,2),u=i[0],f=i[1],b=Object(a.useState)(!1),g=Object(p.a)(b,2),h=g[0],E=g[1],v=Object(l.g)(),O=function(){var e=Object(d.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return L.config(),console.log("agsfarfsbfggfsajrsrj1"),e.prev=2,e.next=5,fetch("http://localhost:4002/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:A.AES.encrypt(u,"agsfarfsbfggfsajrsrj1").toString()})});case 5:if(!(t=e.sent).ok){e.next=14;break}return e.next=9,t.json();case 9:a=e.sent,console.log(a.authenticated),a.authenticated?(console.log(a.role),localStorage.setItem("username",n),localStorage.setItem("password",u),localStorage.setItem("role",a.role),localStorage.setItem("authenticated","true"),v.push("/missions")):E(!0),e.next=15;break;case 14:throw new Error("request failed");case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(2),console.log(e.t0);case 20:case"end":return e.stop()}}),e,null,[[2,17]])})));return function(){return e.apply(this,arguments)}}(),j=function(){var e=Object(d.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(""===n&&""===u||""===n||""===u)&&(r(localStorage.getItem("username")),f(localStorage.getItem("password"))),console.log(localStorage.getItem("username")),console.log(n),console.log(localStorage.getItem("password")),e.prev=4,e.next=7,fetch("http://localhost:4002/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:localStorage.getItem("username"),password:A.AES.encrypt(localStorage.getItem("password"),"agsfarfsbfggfsajrsrj1").toString()})});case 7:if(!(t=e.sent).ok){e.next=16;break}return e.next=11,t.json();case 11:a=e.sent,console.log(a.authenticated),a.authenticated?(localStorage.setItem("authenticated",!0),localStorage.setItem("role",a.role),v.push("/missions")):E(!0),e.next=17;break;case 16:throw new Error("request failed");case 17:e.next=22;break;case 19:e.prev=19,e.t0=e.catch(4),console.log(e.t0);case 22:case"end":return e.stop()}}),e,null,[[4,19]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){""!==localStorage.getItem("username")&&j()}),[]),o.a.createElement("section",null,o.a.createElement("h2",null,"Login"),o.a.createElement("form",null,o.a.createElement("label",{htmlFor:"username"},"Username:"),o.a.createElement("input",{type:"text",id:"username",name:"username",placeholder:"",value:n,onChange:function(e){return r(e.target.value)},required:!0}),o.a.createElement("label",{htmlFor:"password"},"Password:"),o.a.createElement("input",{type:"password",id:"password",name:"password",placeholder:"",minLength:"8",value:u,onChange:function(e){return f(e.target.value)},required:!0}),o.a.createElement(c.b,{to:"/register"},"Register"),o.a.createElement("h6",null),o.a.createElement("button",{type:"button",onClick:O},"Login"),h?o.a.createElement("h4",{style:{color:"red"}},"check your password and username again"):null))},R=n(91),V=function(){var e=Object(a.useState)(""),t=Object(p.a)(e,2),n=t[0],r=t[1],s=Object(a.useState)(""),i=Object(p.a)(s,2),u=i[0],f=i[1],b=Object(a.useState)(!1),g=Object(p.a)(b,2),h=g[0],E=g[1],v=Object(a.useState)(!1),O=Object(p.a)(v,2),j=O[0],x=O[1],y=(Object(l.g)(),function(){var e=Object(d.a)(m.a.mark((function e(){var t,a;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("http://localhost:4002/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:n,password:R.AES.encrypt(u,"agsfarfsbfggfsajrsrj1").toString()})});case 3:if(t=e.sent,console.log(t.ok),!t.ok){e.next=13;break}return e.next=8,t.json();case 8:a=e.sent,console.log(a.authenticated),"new user created"===a.msg?(console.log(a.role),E(!1),x(!0)):E(!0),e.next=14;break;case 13:throw new Error("request failed");case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0);case 19:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}());return Object(a.useEffect)((function(){}),[]),o.a.createElement("section",null,o.a.createElement("h2",null,"Register"),o.a.createElement("form",null,o.a.createElement("label",{htmlFor:"username"},"Username:"),o.a.createElement("input",{type:"text",id:"username",name:"username",placeholder:"",value:n,onChange:function(e){return r(e.target.value)},required:!0}),o.a.createElement("label",{htmlFor:"password"},"Password:"),o.a.createElement("input",{type:"password",id:"password",name:"password",placeholder:"",minLength:"8",value:u,onChange:function(e){return f(e.target.value)},required:!0}),o.a.createElement(c.b,{to:"/"},"Login"),o.a.createElement("h6",null),o.a.createElement("button",{type:"button",onClick:y},"Register"),h?o.a.createElement("h4",{style:{color:"red"}},"check your password and username again"):null,j?o.a.createElement("h4",{style:{color:"green"}},"user created"):null))};var B=function(){return o.a.createElement(c.a,null,o.a.createElement(i,null),o.a.createElement("div",{className:"App"},o.a.createElement(l.d,null,o.a.createElement(l.b,{exact:!0,path:"/",component:U}),o.a.createElement(l.b,{exact:!0,path:"/register",component:V}),o.a.createElement(l.b,{exact:!0,path:"/missions",render:function(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(M,null),o.a.createElement(P,null))}}),o.a.createElement(l.b,{exact:!0,path:"/missions/:missionId",component:F}),o.a.createElement(l.b,{exact:!0,path:"/editMission/:missionId",component:J}),o.a.createElement(l.a,{to:"/"}))))},K=Object(j.b)({name:"users",initialState:[],reducers:{}}).reducer,G=Object(j.a)({reducer:{missions:w,users:K}});n(278);s.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(f.a,{store:G},o.a.createElement(B,null))),document.getElementById("root"))}},[[145,1,2]]]);
//# sourceMappingURL=main.83dbdf2d.chunk.js.map